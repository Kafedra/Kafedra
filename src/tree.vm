#if ($node.getErrorDescription()!="") Error Occurred : $node.getErrorDescription() #else

#foreach($child in $node.getChildren())
    
    #if ($child.getChildren().size() != 0) 
    	<li class="parent-node" id="$child.getNodeId()">
    #else 
     	<li class="last" id="$child.getNodeId()">
    #end     	
    	
    #set($attr = "")
	#if ($child.getChildren().size() == 0)
	  	#if($child.isAppointed())
	  		#set( $class = "appointed" )
	   	#else
	   		#set( $class = "notappointed" )
	   	#end
	   	
	   	#if($child.isMultiNode() == true)
	   	   #set( $multi = "true" )
	   	   #set( $streamid = $child.getStreamId() )
	   	   #set( $discid = $child.getDiscId() )
	   	   #set( $id = $child.getNodeId() )
	   	   
           #set( $attr = "id='$id' onclick='ajaxLoadMulti(&#39;$child.getNodeId()&#39;, $streamid, $discid)' class='$class' ismulti='$multi' streamid='$streamid' discid='$discid'")
	   	#else
           #set( $multi = "false" )
           #set( $streamid = "0" )
           #set( $discid = "0" )
           #set( $id = $child.getNodeId() )
           
           #set( $attr = "id='$id' class='$class' group ismulti='$multi' streamid='$streamid' discid='$discid'")
	   	#end
	   	
	#end 
  		<input type="checkbox" class="cb" name="$child.getNodeName()"/>
  	
	<a href="#" $attr>$child.getNodeName()</a>
	
  	
    #if ( $child.getChildren().size() != 0 )    
        <ul id="$child.getNodeId()" style="display:none" class="tree-parent">
        #set ( $node.children = $child.getChildren())
        #parse ("tree.vm")
        </ul>
    #end
    </li>
#end
#end